<!DOCTYPE html>
<html>
    
  <head>
   
    <title>Websocket MQTT Client</title>
    <link type="text/css" rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <script src="./js/iphone-style-checkboxes.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="./bower_components/moment/min/moment.min.js"></script>
    <script type="text/javascript" src="./bower_components/angular/angular.min.js"></script>
    <script type="text/javascript" src="./bower_components/paho-mqtt-js/mqttws31.js"></script>
    <script type="text/javascript" src="./bower_components/cryptojslib/rollups/sha256.js"></script>
    <script type="text/javascript" src="./bower_components/cryptojslib/rollups/hmac-sha256.js"></script>
    <script type="text/javascript" src="./js/myhouse.js"></script>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" charset="utf-8" />
	<style type="text/css">
    body {
      padding: 10px; }
    th {
      text-align: right;
      padding: 4px;
      padding-right: 15px;
      vertical-align: top; }
    .css_sized_container .iPhoneCheckContainer {
      width: 250px; }
    </style>
    
  </head>
  <body  ng-app="awsiot.sample" class="container" ng-controller="AppController as vm" data-ng-init="vm.createClient1()">
    <div id="appctr"  >  
    <div id = "clientctr" class="panel panel-info" ng-repeat="clientCtr in vm.clients.val">
    <div class="onchange">
      <b>Test Switch: I have a ESP8266-12E development board that has LED and it is connected to AWS IoT services all the time.<br></b>
      <td>
        <input type="checkbox" id="ledswitch" ng-model= "vm.foo.bar"/>
        
        <!--<input type="checkbox"  ng-model = 'auto' ng-true-value='true' ng-checked='getCheckedTrue()' ng-false-value='false' class="checkbox" id="schedule_active"/>-->
      </td>
      
    </div>
  <script type="text/javascript" charset="utf-8">
//      document.getElementById('onchange').checked = true;
    $(window).load(function() {
      var onchange_checkbox = ($('.onchange :checkbox')).iphoneStyle({
        onChange: function(elem, value) { 
         if(value){
                var scoper = angular.element(document.getElementById('clientctr')).scope();
                scoper.clientCtr.turnon();//createClient1();
         }else{
                var scoper1 = angular.element(document.getElementById('clientctr')).scope();
                scoper1.clientCtr.turnoff();
         }
          
        }
        
        
      });
    });
    
  </script>  
        <!--<div class="col-md-6">-->
          <!--<div ng-repeat="msg in clientCtr.msgs">-->
<!--            <div class="panel-heading">
              <h3 class="panel-title">{{msg.destination}} -> {{msg.receivedTime | date: 'medium'}}</h3>
            </div>
            <div class="panel-body"> {{msg.content}} -->
<!--            <script>
                if({{msg.state}}){
                    document.getElementById('onchange').checked = false;
                }else{
                    document.getElementById('onchange').checked = true;
                }
            </script>-->
            <!--</div>-->
<!--          </div>

        </div>-->
      </div>
    
    <div class="row">
      <ul class="list-group">
        <div ng-repeat="log in [vm.logs.logs[vm.logs.logs.length-1]] | orderBy:'createdTime':true" class="list-group-item" ng-class="log.className">
          {{log.createdTime | date: 'medium'}} - {{log.content}}
        </div>
      </ul>
    </div>
  </div>
  



</body>
</html>